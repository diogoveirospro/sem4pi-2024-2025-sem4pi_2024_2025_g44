@startuml

package "CRMCollaborator " <<aggregate>> {

    class CRMCollaborator <<Entity>> <<root>>{
    }
}

package "CRM Manager " <<aggregate>> {

    class CRMManager <<Entity>> <<root>>{
    }
}

package "ModelOfDrone " <<aggregate>> {

    class Model <<Entity>> <<root>>{
    }

}

package "Figure " <<aggregate>> {

    class Figure <<Entity>> <<root>>{
    }
}

package "ShowRequest " <<aggregate>>{

    class ShowRequest <<Entity>> <<root>>{
    }
}

package "Drone " <<aggregate>>{

    class Drone <<Entity>> <<root>>{
    }
}


package "ShowProposal " <<aggregate>>{

    enum ShowProposalStatus <<Value Object>>{
    }

    class ShowProposal <<Entity>> <<root>>{
    }

    class ShowProposalTemplate <<Value Object>>{
    }

    class ShowProposalNumber <<Value Object>>{
    }

    class Insurance <<Value Object>>{
    }

    class CustomerFeedback <<Value Object>>{
    }

    class ShowConfiguration <<Entity>>{
    }

    class Video <<Value Object>>{
    }

    class TemplateValidate <<Service>> {
    }

    class ShowDSLDescription <<Value Object>> {
    }

    class GenerateShowDSL <<Service>> {
    }

    'ShowProposal -> x
    ShowProposal --> "1" CustomerFeedback: customerFeedback
    ShowProposal --> "1" CRMCollaborator: created by
    ShowProposal --> "1" CRMManager: template configured by
    ShowProposal --> "1" ShowRequest: based on
    ShowProposal --> "1" ShowProposalStatus: proposalStatus
    ShowProposal --> "1" ShowProposalTemplate: template
    ShowProposal --> "1" ShowProposalNumber: proposalNumber
    ShowProposal --> "1" Insurance: insurance
    ShowProposal --> "1" ShowConfiguration: showConfiguration
    ShowProposal --> "1" Video: video

    'GenerateShowDSL -> x
    GenerateShowDSL ..> ShowConfiguration: uses
    GenerateShowDSL --> ShowDSLDescription: returns

    'TemplateValidate -> x
    TemplateValidate ..> "1" ShowProposalTemplate: validates

    'ShowConfiguration -> x
    ShowConfiguration --> "1..*" Drone: drones
    ShowConfiguration --> "1..*" Figure: figures
    ShowConfiguration -> "0..1" ShowDSLDescription: showDSLDescription

    'Drone -> x
    Drone --> "1" Model: uses
}

package Shared {

    class Time <<Value Object>>{
    }

    class Date <<Value Object>>{
    }

    class QuantityOfDrones <<Value Object>>{
    }

    'ShowProposal -> x
    ShowProposal ----> "1" QuantityOfDrones: qnt_drones
    ShowProposal ----> "1" Time: time
    ShowProposal ----> "1" Date: date
}

@enduml